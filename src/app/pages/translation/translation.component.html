<navbar [items]="navBarItems"></navbar>

<app-translation-title (finish)="closeConversation()"></app-translation-title>
<div class="interfaces">
  <div class="msg">
    <app-message-wrapper user="advisor" class="margin" (rawTextToEmit)="getMessage($event)" (translatedTextToEmit)="getTranslation($event)" [rawText]="messageToEdit"></app-message-wrapper>
    <app-message-wrapper user="guest" class="margin" (rawTextToEmit)="getMessage($event)" (translatedTextToEmit)="getTranslation($event)"></app-message-wrapper>
  </div>
  <div class="conversation">
    <div class="head-conversation">
      <h2>Conversation</h2>
      <div class="auto-listen">
        <a href="#">Ecouter automatiquement</a><mat-slide-toggle></mat-slide-toggle>
      </div>
    </div>
    <div class="value">
      <div class="translation">
        {{ translatedMessage }}
      </div>
      <button class="listen">
        <img src="../../../assets/icons/icon-listen-black.svg" alt="listen translation">
      </button>
    </div>
    <div class="entered-text">
      <div class="flag">
        <span class="flag-icon flag-icon-fr" routerLink="/choice"></span>
      </div>
      <div class="text">
        <span *ngIf="!showLongMessage">
          <a (click)="editMessage(sentMessage)">{{ sentMessage }}</a>&nbsp;
          <span *ngIf="sentMessage && sentMessage.length >= 120"><a (click)="showLongText(sentMessage)">...</a></span>
        </span>
        <span *ngIf="showLongMessage">
          <a (click)="editMessage(longText)">{{ longText }}</a>&nbsp;
          <button *ngIf="longText" (click)="sliceText(longText)">RÃ©duire</button>
        </span>
        </div>
      <div class="delete">
        <img src="./assets/icons/icon-delete-black.svg" alt="delete text" />
      </div>
    </div>
  </div>
</div>
