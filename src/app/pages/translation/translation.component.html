<app-navbar [items]="navBarItems"></app-navbar>

<app-translation-title (finish)="closeConversation()"></app-translation-title>
<div [ngClass]="{'multiDevices': isMultiDevices, oneDevice: !isMultiDevices}">
  <div class="conversation">
    <div class="head-conversation">
      <h2>Conversation</h2>
      <div class="auto-listen">
        <mat-slide-toggle class="auto-listen-btn" (click)="switchAudio()" checked labelPosition="before" color="primary">{{ autoListenValue }}</mat-slide-toggle>
      </div>
    </div>
    <div class="thread" #scrollMe>
      <app-chat [chat]="chat" (editMessageEmit)="editChat($event)"></app-chat>
    </div>
  </div>
  <div class="msg">
    <ng-template [ngIf]="!isMultiDevices">
      <app-message-wrapper user="guest" class="margin" (messagesToEmit)="addToChat($event)" [originText]="guestTextToEdit"></app-message-wrapper>
      <app-message-wrapper id="advisor-wrapper" user="advisor" class="margin" (messagesToEmit)="addToChat($event)" [originText]="advisorTextToEdit"></app-message-wrapper>
    </ng-template>
    <ng-template [ngIf]="isMultiDevices">
      <app-message-wrapper *ngIf="isGuest" user="guest" class="margin" (messagesToEmit)="addToChat($event)" [originText]="guestTextToEdit"></app-message-wrapper>
      <app-message-wrapper *ngIf="!isGuest" id="advisor-wrapper" user="advisor" class="margin" (messagesToEmit)="addToChat($event)" [originText]="advisorTextToEdit"></app-message-wrapper>
    </ng-template>
  </div>
</div>
<!-- <div *ngIf="isMultiDevices" class="multiDevices">
  <div class="conversation">
    <div class="head-conversation">
      <h2>Conversation</h2>
      <div class="auto-listen">
        <mat-slide-toggle class="auto-listen-btn" (click)="switchAudio()" checked labelPosition="before" color="primary">{{ autoListenValue }}</mat-slide-toggle>
      </div>
    </div>
    <div class="thread" #scrollMe>
      <app-chat [shared]="isMultiDevices" [chat]="chat" (editMessageEmit)="editChat($event)"></app-chat>
    </div>
  </div>
  <div class="msg">
    <app-message-wrapper *ngIf="isGuest" user="guest" class="margin" (messagesToEmit)="addToChat($event)" [originText]="guestTextToEdit"></app-message-wrapper>
    <app-message-wrapper *ngIf="!isGuest" id="advisor-wrapper" user="advisor" class="margin" (messagesToEmit)="addToChat($event)" [originText]="advisorTextToEdit"></app-message-wrapper>
  </div> 
</div>-->