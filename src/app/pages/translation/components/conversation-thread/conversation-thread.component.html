<ng-container *ngFor="let message of conversationThread; let i = index;">
  <div class="translation">
    <div class="sentence" [ngStyle]="{'text-align': message.language === 'ar-XA' ? 'end' : 'start'}">
        {{ message.translation }}
    </div>
    <a class="listen" (click)="listen(i)">
      <img src="../../../assets/icons/icon-listen-black.svg" alt="Ecoute de la traduction">
    </a>
  </div>
  <div class="message-sended">
    <div class="flag">
      <span *ngIf="message.flag !== 'arabic'"class="flag-icon flag-icon-{{ message.flag }}"></span>
      <img *ngIf="message.flag === 'arabic'" class="flag-icon" src="assets/images/arab-flag.png" alt="drapeau" />
    </div>
    <div class="text" [ngStyle]="{'text-align': message.flag == 'arabic' ? 'end' : 'start'}">
      <span>
        <div *ngIf="!visible; then longText else shortText"></div>
        <ng-template #shortText>
          <a class="incoming-message" (click)="editMessage(i)">{{ message.message }}</a>
          <a class="extand" *ngIf="message.message !== undefined && message.message.length > 98" (click)="extand()">
            <img src="./assets/icons/icon-chevron-close-blue.svg" alt="rÃ©duire le texte" />
          </a>
        </ng-template>
        <ng-template #longText>
          <a class="incoming-message" (click)="editMessage(i)">{{ message.message | slice:0:98 }}&nbsp;<strong *ngIf="message.message.length > 98">...</strong></a>
          <a class="extand" *ngIf="message.message !== undefined && message.message.length > 98" (click)="extand()">
            <img src="./assets/icons/icon-chevron-open-blue.svg" alt="Ã©tendre le texte" />
          </a>
        </ng-template>
      </span>
    </div>
    <div class="delete" (click)="deleteMessage(i)">
      <img src="./assets/icons/icon-remove-blue.svg" alt="supprimer le texte" />
    </div>
  </div>
</ng-container>