<ng-container *ngFor="let message of conversationThread; let i = index;">
  <div class="value">
    <div class="translation" [ngStyle]="{'text-align': message.flag == 'dz' ? 'start' : 'end'}">
        {{ message.translation }}
    </div>
    <button class="listen" (click)="listen(i)">
      <img src="../../../assets/icons/icon-listen-black.svg" alt="listen translation">
    </button>
  </div>
  <div class="entered-text">
    <div class="flag">
      <span class="flag-icon flag-icon-{{ message.flag }}" routerLink="/choice"></span>
    </div>
    <div class="text" [ngStyle]="{'text-align': message.flag == 'dz' ? 'end' : 'start'}">
      <span>
        <div *ngIf="!visible; then longText else shortText"></div>
        <ng-template #shortText>
          <a (click)="editMessage(i)">{{ message.message }}</a>
          <button *ngIf="message.message.length > 120" (click)="toggleDiv(i)">REDUIRE</button>
        </ng-template>
        <ng-template #longText>
          <a (click)="editMessage(i)">{{ message.message | slice:0:120 }}</a>
          <button *ngIf="message.message.length > 120" (click)="toggleDiv(i)">...</button>
        </ng-template>
      </span>
      <span>
      </span>
      </div>
    <div class="delete" (click)="deleteMessage(i)">
      <img src="./assets/icons/icon-delete-black.svg" alt="delete text" />
    </div>
  </div>
</ng-container>