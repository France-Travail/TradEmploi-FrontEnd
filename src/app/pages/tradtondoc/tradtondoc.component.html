<div class="wrapper">
  <div class="container">
    <div class="header">
      <button class="end-btn" (click)="evaluate()">Evaluer</button>
    </div>
    <form class="tradtondoc" [formGroup]="ocrForm" (ngSubmit)="onSubmit()">
      <div class="drop-container">
        <span class="drop-title">Déposer l'image ici</span>
        ou
        <input type="file" id="images" accept="image/*,application/pdf" required (change)="onChange($event)" />
      </div>

      <div class="vizualisation" *ngIf="file && !fileName.endsWith('.pdf')">
        <p class="title">Visualiser l'image</p>
        <div class="img-container">
          <img src="{{ file }}" />
        </div>
      </div>
      <button class="end-btn submit-btn" type="submit" *ngIf="this.file && !this.translatedText">Lancer la détection du texte et la traduction</button>
    </form>
    <div class="translation" *ngIf="translatedText">
      <p class="title">Texte traduit</p>
      <div class="text-container">
        <div *ngIf="translatedText && translatedText.length > 0">
          {{ translatedText }}
        </div>
        <div class="audio-controls">
          <button *ngIf="showAudioControls" class="play-btn end-btn" type="button" (click)="isPlaying ? pause() : play()">
            <mat-icon>{{ isPlaying ? 'pause' : 'play_arrow' }}</mat-icon>
          </button>
          <div *ngIf="!showAudioControls">
            <app-loader></app-loader>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
